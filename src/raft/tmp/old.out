Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.0  3   85   21195    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  208   42109    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   18    5288    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.3  3  142   33211    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2141 1785617  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   61   19091   12
PASS
ok  	6.824/raft	34.657s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   50  113952   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.7  3   81   20505    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  205   40480    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    5980    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  134   31172    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.3  5 2165 1834637  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   18750   12
PASS
ok  	6.824/raft	34.799s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4600    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   50  113726   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.7  3   85   21099    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  197   39228    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    6017    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   3.9  3  130   30301    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.8  5 2142 1786277  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   60   19798   12
PASS
ok  	6.824/raft	34.162s
Test (2B): basic agreement ...
--- FAIL: TestBasicAgree2B (2.38s)
    config.go:602: one(100) failed to reach agreement
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   87   21872    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  212   42015    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   20    5477    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  137   31740    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.2  5 2072 1798245  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   57   17710   12
FAIL
exit status 1
FAIL	6.824/raft	34.252s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4600    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113632   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   86   21642    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  217   42885    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6238    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  173   41322    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.9  5 2115 1762861  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   61   18270   12
PASS
ok  	6.824/raft	36.754s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   16    4276    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113632   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.1  3   88   22046    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  203   40670    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   21    6147    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  135   30787    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.1  5 2081 1768888  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   61   19019   12
PASS
ok  	6.824/raft	33.150s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113632   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   84   20726    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  192   39642    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   18    5020    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  177   42995    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.3  5 2151 1801486  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   60   17624   12
PASS
ok  	6.824/raft	36.749s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   16    4308    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   52  114270   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.7  3   84   21266    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  210   41347    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.8  3   25    7162    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  136   31547    4
Test (2B): leader backs up quickly over incorrect follower logs ...
==================
WARNING: DATA RACE
Read at 0x00c0008a30e0 by goroutine 304:
  reflect.Value.IsNil()
      /usr/local/go/src/reflect/value.go:1438 +0xe4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:585 +0x51
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c0008a30e0 by goroutine 397:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 304 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 397 (finished) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
==================
WARNING: DATA RACE
Read at 0x00c00043eb88 by goroutine 304:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeSingle()
      /usr/local/go/src/encoding/gob/encode.go:301 +0x3ea
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:703 +0x259
  encoding/gob.(*Encoder).encodeInterface()
      /usr/local/go/src/encoding/gob/encode.go:419 +0x9b4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:589 +0x24c
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c00043eb88 by goroutine 397:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1394 +0x18a
  reflect.Value.assignTo()
      /usr/local/go/src/reflect/value.go:2800 +0x1a4
  reflect.Value.Set()
      /usr/local/go/src/reflect/value.go:1918 +0xd6
  encoding/gob.(*Decoder).decodeInterface()
      /usr/local/go/src/encoding/gob/decode.go:689 +0x434
  encoding/gob.(*Decoder).decOpFor.func5()
      /usr/local/go/src/encoding/gob/decode.go:864 +0x8a
  encoding/gob.(*Decoder).decodeStruct()
      /usr/local/go/src/encoding/gob/decode.go:471 +0x2b9
  encoding/gob.(*Decoder).decOpFor.func4()
      /usr/local/go/src/encoding/gob/decode.go:860 +0x75
  encoding/gob.(*Decoder).decodeArrayHelper()
      /usr/local/go/src/encoding/gob/decode.go:530 +0x224
  encoding/gob.(*Decoder).decodeSlice()
      /usr/local/go/src/encoding/gob/decode.go:630 +0x21d
  encoding/gob.(*Decoder).decOpFor.func3()
      /usr/local/go/src/encoding/gob/decode.go:848 +0xea
  encoding/gob.(*Decoder).decodeStruct()
      /usr/local/go/src/encoding/gob/decode.go:471 +0x2b9
  encoding/gob.(*Decoder).decodeValue()
      /usr/local/go/src/encoding/gob/decode.go:1205 +0x376
  encoding/gob.(*Decoder).DecodeValue()
      /usr/local/go/src/encoding/gob/decoder.go:216 +0x2ca
  encoding/gob.(*Decoder).Decode()
      /usr/local/go/src/encoding/gob/decoder.go:191 +0x28a
  6.824/labgob.(*LabDecoder).Decode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:55 +0x7b
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:487 +0x2e4
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 304 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 397 (finished) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
==================
WARNING: DATA RACE
Read at 0x00c0008a30f0 by goroutine 304:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c0008a30f0 by goroutine 397:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 304 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 397 (finished) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
2022/11/30 09:53:25 1: log map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803]; server map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803 52:8665388169078786796 53:5814353849262808592 54:7886334693222277986 55:8681540023850318909 56:3631514249029012739 57:959656181571916815 58:5871238187496735036 59:1744483462382437100 60:5476968024387453410 61:6583707978743288044 62:2289006870209814172 63:8135499378692805935 64:6356752066426661638 65:4155429575838222414 66:75629476268470176 67:6895086142293507146 68:3945769824660617618 69:8425479646977907369 70:3233933406868396007 71:8901685590514433272 72:5003195313364800471 73:2862464878593375389 74:4949801866349546866 75:2587742528399553635 76:3585921019471335256 77:3587244735449380713 78:8548031391824723171 79:5060096560601555293 80:7598596539356805194 81:7435650923852032531 82:1423131568650053500 83:8071781052627870134 84:2131205767632834372 85:4443930213871179558 86:4263118272297944603 87:6328005007191775095 88:6043843324476912655 89:4746817238418415862 90:5244431549495955559 91:7931313821127899512 92:6058269613919304112 93:2848780331695869227 94:5438489297941106725 95:2111142510835103652 96:5215256665643264808 97:6249330646051151781 98:5562621087048839291 99:6057513741005363762 100:8661436213370029992 101:2977451246639085017]
2022/11/30 09:53:25 1: log map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803]; server map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803 52:8665388169078786796 53:5814353849262808592 54:7886334693222277986 55:8681540023850318909 56:3631514249029012739 57:959656181571916815 58:5871238187496735036 59:1744483462382437100 60:5476968024387453410 61:6583707978743288044 62:2289006870209814172 63:8135499378692805935 64:6356752066426661638 65:4155429575838222414 66:75629476268470176 67:6895086142293507146 68:3945769824660617618 69:8425479646977907369 70:3233933406868396007 71:8901685590514433272 72:5003195313364800471 73:2862464878593375389 74:4949801866349546866 75:2587742528399553635 76:3585921019471335256 77:3587244735449380713 78:8548031391824723171 79:5060096560601555293 80:7598596539356805194 81:7435650923852032531 82:1423131568650053500 83:8071781052627870134 84:2131205767632834372 85:4443930213871179558 86:4263118272297944603 87:6328005007191775095 88:6043843324476912655 89:4746817238418415862 90:5244431549495955559 91:7931313821127899512 92:6058269613919304112 93:2848780331695869227 94:5438489297941106725 95:2111142510835103652 96:5215256665643264808 97:6249330646051151781 98:5562621087048839291 99:6057513741005363762 100:8661436213370029992 101:2977451246639085017]
2022/11/30 09:53:25 1: log map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803]; server map[1:4327527157033187993 2:5178021561780743523 3:1286812519190551627 4:5919265205340796875 5:8469831792830459538 6:96906145721235846 7:1941500886435423434 8:7466364289008440303 9:3547694403863809556 10:6690394613867922006 11:3080656877461022612 12:2679746243481683623 13:8677127135040818634 14:4962615787738877249 15:3156199864161417058 16:5556914335743128117 17:4113095256455455929 18:2318446922479876815 19:7832609942891237307 20:5966807363353326262 21:6305265250537059131 22:5008959945227536952 23:8789691918375395008 24:4016562295304955480 25:1204879014688299021 26:7483976769319650871 27:5418652255353073401 28:1711283306997308227 29:3695040145557821802 30:6038354016291017877 31:8931808323783954132 32:4154816335932694836 33:4824702156897367941 34:5572255485557427851 35:1705232235212303196 36:3064410607283085000 37:965940754228131431 38:7788416377595462571 39:5664027852366779650 40:1755215161201130062 41:1069280275794148953 42:8478894604368989478 43:5872682983495510912 44:6028730595250029947 45:6682481754084665021 46:5671793270887579789 47:2084254196572319595 48:4590459149182453943 49:148557710889041951 50:7863671065782546412 51:1936070181401002803 52:8665388169078786796 53:5814353849262808592 54:7886334693222277986 55:8681540023850318909 56:3631514249029012739 57:959656181571916815 58:5871238187496735036 59:1744483462382437100 60:5476968024387453410 61:6583707978743288044 62:2289006870209814172 63:8135499378692805935 64:6356752066426661638 65:4155429575838222414 66:75629476268470176 67:6895086142293507146 68:3945769824660617618 69:8425479646977907369 70:3233933406868396007 71:8901685590514433272 72:5003195313364800471 73:2862464878593375389 74:4949801866349546866 75:2587742528399553635 76:3585921019471335256 77:3587244735449380713 78:8548031391824723171 79:5060096560601555293 80:7598596539356805194 81:7435650923852032531 82:1423131568650053500 83:8071781052627870134 84:2131205767632834372 85:4443930213871179558 86:4263118272297944603 87:6328005007191775095 88:6043843324476912655 89:4746817238418415862 90:5244431549495955559 91:7931313821127899512 92:6058269613919304112 93:2848780331695869227 94:5438489297941106725 95:2111142510835103652 96:5215256665643264808 97:6249330646051151781 98:5562621087048839291 99:6057513741005363762 100:8661436213370029992 101:2977451246639085017]
2022/11/30 09:53:25 apply error: commit index=52 server=1 5296730080826334508 != server=4 8665388169078786796
exit status 1
FAIL	6.824/raft	30.668s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4600    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   52  114276   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   86   21442    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  206   40865    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   23    6558    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  135   31317    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.2  5 2072 1782861  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   19224   12
PASS
ok  	6.824/raft	33.015s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4378    3
Test (2B): RPC byte count ...
  ... Passed --   1.7  3   52  114276   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   84   21024    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  192   39287    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   18    5512    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  129   29721    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.5  5 2082 1793719  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   60   17896   12
PASS
ok  	6.824/raft	33.205s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   16    4076    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113536   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   88   21546    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  204   41613    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   22    6013    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.3  3  136   31215    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.2  5 2153 1803617  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   60   17828   12
PASS
ok  	6.824/raft	34.831s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   48  113402   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.7  3   86   21590    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  198   39942    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5784    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  130   30413    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2141 1800680  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   59   20669   12
PASS
ok  	6.824/raft	34.285s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.7  3   48  113632   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   84   21092    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  209   40954    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6010    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.2  3  179   43556    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.4  5 2087 1820055  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   60   20832   12
PASS
ok  	6.824/raft	35.330s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4378    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  112990   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   87   21718    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  199   40468    4
Test (2B): concurrent Start()s ...
  ... Passed --   1.1  3   28    7778    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  136   31982    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.9  5 2148 1781526  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   19159   12
PASS
ok  	6.824/raft	35.135s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   16    4308    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113536   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.2  3   92   22845    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  194   39516    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   18    5278    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  180   43443    4
Test (2B): leader backs up quickly over incorrect follower logs ...
2022/11/30 09:57:26 2: log map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128]; server map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128 52:3180165867342611956 53:4321661927700945209 54:406101094436264006 55:5889284918946153507 56:2944512134261002208 57:8822206465120573076 58:9186065946880539733 59:3651887617394124912 60:8184903757045106685 61:1581322094361542491 62:7501043474190430231 63:7017688356566900826 64:3338382108638664334 65:8070818076724688335 66:3038627064498232933 67:3574772968909437174 68:1160022580529548654 69:2150174401259155529 70:7508518742670216430 71:6870746865490330836 72:317081799922359201 73:3893734400228422784 74:712198551260591264 75:8559314089416134001 76:6555007812842256429 77:2053308453195248752 78:4106455553912053741 79:4335418736775945123 80:8818067009329167019 81:5105202956986133249 82:5063621268785435943 83:3956725030715929121 84:5592963483301754442 85:4841706803733114327 86:2286002036263546366 87:5097517348023855424 88:2152486167672010028 89:8034903786980429107 90:5678684869753272667 91:6883246955098731871 92:2844136362463122614 93:4653406034388573237 94:6767241887961003928 95:3299182723374817824 96:7934225941385554803 97:4599943250604924152 98:7050767621465247802 99:4237697182982225843 100:6269061277664571179 101:8734244070074280397]
2022/11/30 09:57:26 2: log map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128]; server map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128 52:3180165867342611956 53:4321661927700945209 54:406101094436264006 55:5889284918946153507 56:2944512134261002208 57:8822206465120573076 58:9186065946880539733 59:3651887617394124912 60:8184903757045106685 61:1581322094361542491 62:7501043474190430231 63:7017688356566900826 64:3338382108638664334 65:8070818076724688335 66:3038627064498232933 67:3574772968909437174 68:1160022580529548654 69:2150174401259155529 70:7508518742670216430 71:6870746865490330836 72:317081799922359201 73:3893734400228422784 74:712198551260591264 75:8559314089416134001 76:6555007812842256429 77:2053308453195248752 78:4106455553912053741 79:4335418736775945123 80:8818067009329167019 81:5105202956986133249 82:5063621268785435943 83:3956725030715929121 84:5592963483301754442 85:4841706803733114327 86:2286002036263546366 87:5097517348023855424 88:2152486167672010028 89:8034903786980429107 90:5678684869753272667 91:6883246955098731871 92:2844136362463122614 93:4653406034388573237 94:6767241887961003928 95:3299182723374817824 96:7934225941385554803 97:4599943250604924152 98:7050767621465247802 99:4237697182982225843 100:6269061277664571179 101:8734244070074280397]
2022/11/30 09:57:26 2: log map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128]; server map[1:3275125906246691466 2:4554881579903543229 3:8158984441686202545 4:8728398052728360549 5:6487463249466495865 6:5561860770103888567 7:8585387083237146108 8:3942509340970501738 9:8765464377419506846 10:5933452734024190817 11:1477409645724531838 12:6679804954746097831 13:2894828637382121092 14:4208609058753246204 15:5933058778463519695 16:6564005915319693999 17:5071415282099215599 18:5611240559864233049 19:960855080025028292 20:2085049415128192991 21:570968675610245571 22:6671717102562975736 23:351635873655534798 24:5897533330022273146 25:1807069945034404115 26:8506130704302605405 27:576704368117037093 28:29130444733374620 29:8516120865967787474 30:397395877006326388 31:8686538339416082010 32:2597745924733785586 33:2769755005608567365 34:7572169747789409641 35:375836161118996096 36:4007396658257809381 37:8559875168360866912 38:6075513572091978829 39:3421721333648524447 40:7310356190658793778 41:7937255734594591453 42:3685180987357963187 43:5090473504714206632 44:6056133684056546474 45:3301287188760983911 46:3701742207349978582 47:7199135471866940273 48:1758819785528654148 49:8510919136063157265 50:3617797439923365523 51:1908805070934876128 52:3180165867342611956 53:4321661927700945209 54:406101094436264006 55:5889284918946153507 56:2944512134261002208 57:8822206465120573076 58:9186065946880539733 59:3651887617394124912 60:8184903757045106685 61:1581322094361542491 62:7501043474190430231 63:7017688356566900826 64:3338382108638664334 65:8070818076724688335 66:3038627064498232933 67:3574772968909437174 68:1160022580529548654 69:2150174401259155529 70:7508518742670216430 71:6870746865490330836 72:317081799922359201 73:3893734400228422784 74:712198551260591264 75:8559314089416134001 76:6555007812842256429 77:2053308453195248752 78:4106455553912053741 79:4335418736775945123 80:8818067009329167019 81:5105202956986133249 82:5063621268785435943 83:3956725030715929121 84:5592963483301754442 85:4841706803733114327 86:2286002036263546366 87:5097517348023855424 88:2152486167672010028 89:8034903786980429107 90:5678684869753272667 91:6883246955098731871 92:2844136362463122614 93:4653406034388573237 94:6767241887961003928 95:3299182723374817824 96:7934225941385554803 97:4599943250604924152 98:7050767621465247802 99:4237697182982225843 100:6269061277664571179 101:8734244070074280397]
2022/11/30 09:57:26 apply error: commit index=52 server=2 820283812449852304 != server=4 3180165867342611956
exit status 1
FAIL	6.824/raft	32.674s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4628    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   46  112990   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.1  3   92   22892    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  214   43440    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.8  3   24    6769    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  136   31638    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  20.2  5 2234 1808080  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   17735   12
PASS
ok  	6.824/raft	37.378s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4402    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   48  113314   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.1  3   91   22594    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  203   41202    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   24    6653    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  171   41344    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.1  5 2160 1826682  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   59   17685   12
PASS
ok  	6.824/raft	36.959s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   20    4924    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   88   21536    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  208   41480    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5973    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  138   32279    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.3  5 2157 1799115  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   18846   12
PASS
ok  	6.824/raft	35.185s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3730    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.1  3   95   23011    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  218   43379    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   24    6589    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  133   30759    4
Test (2B): leader backs up quickly over incorrect follower logs ...
==================
WARNING: DATA RACE
Read at 0x00c0007424e0 by goroutine 259:
  reflect.Value.IsNil()
      /usr/local/go/src/reflect/value.go:1438 +0xe4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:585 +0x51
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c0007424e0 by goroutine 194:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 259 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 194 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
==================
WARNING: DATA RACE
Read at 0x00c0000cf3a8 by goroutine 259:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeSingle()
      /usr/local/go/src/encoding/gob/encode.go:301 +0x3ea
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:703 +0x259
  encoding/gob.(*Encoder).encodeInterface()
      /usr/local/go/src/encoding/gob/encode.go:419 +0x9b4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:589 +0x24c
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c0000cf3a8 by goroutine 194:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1394 +0x18a
  reflect.Value.assignTo()
      /usr/local/go/src/reflect/value.go:2800 +0x1a4
  reflect.Value.Set()
      /usr/local/go/src/reflect/value.go:1918 +0xd6
  encoding/gob.(*Decoder).decodeInterface()
      /usr/local/go/src/encoding/gob/decode.go:689 +0x434
  encoding/gob.(*Decoder).decOpFor.func5()
      /usr/local/go/src/encoding/gob/decode.go:864 +0x8a
  encoding/gob.(*Decoder).decodeStruct()
      /usr/local/go/src/encoding/gob/decode.go:471 +0x2b9
  encoding/gob.(*Decoder).decOpFor.func4()
      /usr/local/go/src/encoding/gob/decode.go:860 +0x75
  encoding/gob.(*Decoder).decodeArrayHelper()
      /usr/local/go/src/encoding/gob/decode.go:530 +0x224
  encoding/gob.(*Decoder).decodeSlice()
      /usr/local/go/src/encoding/gob/decode.go:630 +0x21d
  encoding/gob.(*Decoder).decOpFor.func3()
      /usr/local/go/src/encoding/gob/decode.go:848 +0xea
  encoding/gob.(*Decoder).decodeStruct()
      /usr/local/go/src/encoding/gob/decode.go:471 +0x2b9
  encoding/gob.(*Decoder).decodeValue()
      /usr/local/go/src/encoding/gob/decode.go:1205 +0x376
  encoding/gob.(*Decoder).DecodeValue()
      /usr/local/go/src/encoding/gob/decoder.go:216 +0x2ca
  encoding/gob.(*Decoder).Decode()
      /usr/local/go/src/encoding/gob/decoder.go:191 +0x28a
  6.824/labgob.(*LabDecoder).Decode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:55 +0x7b
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:487 +0x2e4
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 259 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 194 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
==================
WARNING: DATA RACE
Read at 0x00c0007424f0 by goroutine 259:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Previous write at 0x00c0007424f0 by goroutine 194:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Goroutine 259 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47

Goroutine 194 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c
==================
--- FAIL: TestBackup2B (15.94s)
    testing.go:1152: race detected during execution of test
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   60   18697   12
FAIL
exit status 1
FAIL	6.824/raft	32.892s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   16    4078    3
Test (2B): RPC byte count ...
  ... Passed --   1.7  3   50  113982   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   84   20848    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  201   40788    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6058    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  134   31276    4
Test (2B): leader backs up quickly over incorrect follower logs ...
2022/11/30 10:00:13 2: log map[1:3953833146161075482]; server map[1:3953833146161075482 2:3679782443053549564 3:2896786352795379137 4:6833510030031758252 5:7148785651423718817 6:763113416911979929 7:4688794185016947925 8:905845160605914453 9:330996329031506549 10:6949438434514688680 11:5778087439775555127 12:3307076505142283464 13:5344609761744964144 14:8855623149904892416 15:523392301507374723 16:4328273683749442055 17:5389328945255820173 18:6376163453669854474 19:3238276608057585186 20:8774459592315195480 21:8989782345959581595 22:8459166417100316372 23:3541403561711675198 24:4247050086123351547 25:1229166893567443150 26:5068416788796200027 27:6240610268631965242 28:6545029679966796142 29:6208120887230334492 30:9145801492973533343 31:8998292929262814572 32:8471860151646259445 33:6762162697727395681 34:7873011530406245499 35:2409227575427277917 36:4947708036854103399 37:4910728381063977941 38:4030130901720526099 39:989400752620963207 40:1719393195260789608 41:4752342917389352924 42:7147482304865594266 43:9112585036361628163 44:909555695737458513 45:4522236843983502538 46:5674538126154525323 47:8540575943791603609 48:7976637953785115362 49:4839071090026249515 50:1470031748234370292 51:2181357755678694284]
2022/11/30 10:00:13 2: log map[1:3953833146161075482]; server map[1:3953833146161075482 2:3679782443053549564 3:2896786352795379137 4:6833510030031758252 5:7148785651423718817 6:763113416911979929 7:4688794185016947925 8:905845160605914453 9:330996329031506549 10:6949438434514688680 11:5778087439775555127 12:3307076505142283464 13:5344609761744964144 14:8855623149904892416 15:523392301507374723 16:4328273683749442055 17:5389328945255820173 18:6376163453669854474 19:3238276608057585186 20:8774459592315195480 21:8989782345959581595 22:8459166417100316372 23:3541403561711675198 24:4247050086123351547 25:1229166893567443150 26:5068416788796200027 27:6240610268631965242 28:6545029679966796142 29:6208120887230334492 30:9145801492973533343 31:8998292929262814572 32:8471860151646259445 33:6762162697727395681 34:7873011530406245499 35:2409227575427277917 36:4947708036854103399 37:4910728381063977941 38:4030130901720526099 39:989400752620963207 40:1719393195260789608 41:4752342917389352924 42:7147482304865594266 43:9112585036361628163 44:909555695737458513 45:4522236843983502538 46:5674538126154525323 47:8540575943791603609 48:7976637953785115362 49:4839071090026249515 50:1470031748234370292 51:2181357755678694284]
2022/11/30 10:00:13 2: log map[1:3953833146161075482]; server map[1:3953833146161075482 2:3679782443053549564 3:2896786352795379137 4:6833510030031758252 5:7148785651423718817 6:763113416911979929 7:4688794185016947925 8:905845160605914453 9:330996329031506549 10:6949438434514688680 11:5778087439775555127 12:3307076505142283464 13:5344609761744964144 14:8855623149904892416 15:523392301507374723 16:4328273683749442055 17:5389328945255820173 18:6376163453669854474 19:3238276608057585186 20:8774459592315195480 21:8989782345959581595 22:8459166417100316372 23:3541403561711675198 24:4247050086123351547 25:1229166893567443150 26:5068416788796200027 27:6240610268631965242 28:6545029679966796142 29:6208120887230334492 30:9145801492973533343 31:8998292929262814572 32:8471860151646259445 33:6762162697727395681 34:7873011530406245499 35:2409227575427277917 36:4947708036854103399 37:4910728381063977941 38:4030130901720526099 39:989400752620963207 40:1719393195260789608 41:4752342917389352924 42:7147482304865594266 43:9112585036361628163 44:909555695737458513 45:4522236843983502538 46:5674538126154525323 47:8540575943791603609 48:7976637953785115362 49:4839071090026249515 50:1470031748234370292 51:2181357755678694284]
2022/11/30 10:00:13 apply error: commit index=2 server=2 6453335898274831894 != server=4 3679782443053549564
exit status 1
FAIL	6.824/raft	22.776s
Test (2B): basic agreement ...
--- FAIL: TestBasicAgree2B (2.47s)
    config.go:602: one(100) failed to reach agreement
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  112990   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   85   21277    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   4.1  5  219   43904    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   18    5334    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  131   30674    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.5  5 2148 1805953  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   57   17570   12
FAIL
exit status 1
FAIL	6.824/raft	36.978s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   16    4308    3
Test (2B): RPC byte count ...
  ... Passed --   1.7  3   50  113860   11
Test (2B): agreement after follower reconnects ...
--- FAIL: TestFailAgree2B (2.36s)
    config.go:602: one(101) failed to reach agreement
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  197   39686    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    6049    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.1  3  133   31055    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2140 1834488  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   58   18373   12
FAIL
exit status 1
FAIL	6.824/raft	33.082s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   16    4078    3
Test (2B): RPC byte count ...
  ... Passed --   1.7  3   52  114276   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.6  3   83   20901    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  210   43593    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5961    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.0  3  168   41072    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2152 1827225  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   60   18955   12
PASS
ok  	6.824/raft	36.686s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   20    4924    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   51  113828   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.0  3   90   22475    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  201   39956    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.5  3   20    5410    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  175   42517    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.2  5 2061 1771798  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   64   19710   12
PASS
ok  	6.824/raft	35.160s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   50  113638   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.3  3   91   22005    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  196   40099    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6192    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.0  3  130   30363    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.9  5 2126 1786667  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   56   16564   12
PASS
ok  	6.824/raft	34.627s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   14    3758    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   50  113726   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   85   21381    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  191   39004    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6248    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  129   29495    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2150 1794354  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   64   19639   12
PASS
ok  	6.824/raft	34.906s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   16    4308    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113536   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   85   21594    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  194   38828    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   21    6170    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.3  3  142   33354    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.2  5 2064 1775577  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   57   17019   12
PASS
ok  	6.824/raft	32.905s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4628    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   48  113402   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.7  3   88   22159    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  194   38763    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6161    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  170   41647    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.4  5 2085 1797127  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   63   18583   12
PASS
ok  	6.824/raft	35.065s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   14    3730    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   48  113402   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.6  3   82   20811    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  209   40180    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5837    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.2  3  181   43814    4
Test (2B): leader backs up quickly over incorrect follower logs ...
==================
WARNING: DATA RACE
Write at 0x00c0007e04e0 by goroutine 116:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c0007e04e0 by goroutine 355:
  reflect.Value.IsNil()
      /usr/local/go/src/reflect/value.go:1438 +0xe4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:585 +0x51
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Goroutine 116 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c

Goroutine 355 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c0007e04f0 by goroutine 116:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c0007e04f0 by goroutine 355:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Goroutine 116 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c

Goroutine 355 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47
==================
--- FAIL: TestBackup2B (15.93s)
    testing.go:1152: race detected during execution of test
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   57   16994   12
FAIL
exit status 1
FAIL	6.824/raft	34.203s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4628    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.2  3   96   23429    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  204   40112    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5957    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  138   32110    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.8  5 2139 1796361  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   58   19223   12
PASS
ok  	6.824/raft	34.862s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   16    4078    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113402   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   87   21397    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  208   42614    3
Test (2B): concurrent Start()s ...
  ... Passed --   1.0  3   28    7646    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  168   40450    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.0  5 2159 1808618  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.1  3   58   19771   12
PASS
ok  	6.824/raft	37.185s
Test (2B): basic agreement ...
  ... Passed --   0.6  3   14    3730    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  112990   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.2  3   92   22374    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  205   40544    3
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5952    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  169   40807    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  17.6  5 2119 1808373  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   58   17590   12
PASS
ok  	6.824/raft	36.500s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4632    3
Test (2B): RPC byte count ...
  ... Passed --   1.8  3   52  114184   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.8  3   86   21597    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.6  5  209   41887    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.6  3   19    5594    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.2  3  176   42215    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  16.4  5 2089 1790972  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   58   18147   12
PASS
ok  	6.824/raft	35.267s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   16    4078    3
Test (2B): RPC byte count ...
  ... Passed --   1.5  3   46  113082   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.9  3   86   21394    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  196   39735    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   22    6429    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   4.2  3  139   32223    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.1  5 2136 1761648  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   1.9  3   56   18128   12
PASS
ok  	6.824/raft	34.576s
Test (2B): basic agreement ...
  ... Passed --   0.7  3   18    4378    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113314   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.5  3   95   22947    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  188   37219    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   25    6959    6
Test (2B): rejoin of partitioned leader ...
  ... Passed --   6.1  3  175   42748    4
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  15.9  5 2039 1747171  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.0  3   60   18972   12
PASS
ok  	6.824/raft	35.218s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   16    4308    3
Test (2B): RPC byte count ...
  ... Passed --   1.6  3   48  113402   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   4.1  3   92   22637    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.5  5  204   41334    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.6  3   20    5716    6
Test (2B): rejoin of partitioned leader ...
==================
WARNING: DATA RACE
Write at 0x00c0004b9f08 by goroutine 112:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c0004b9f08 by goroutine 232:
  reflect.Value.IsNil()
      /usr/local/go/src/reflect/value.go:1438 +0xe4
  encoding/gob.encOpFor.func5()
      /usr/local/go/src/encoding/gob/encode.go:585 +0x51
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Start·dwrap·12()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:470 +0x47

Goroutine 112 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c

Goroutine 232 (running) created at:
  6.824/raft.(*Raft).Start()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:470 +0x4a9
  6.824/raft.(*config).one()
      /home/hzhang/work/mit-6.824/6.824/src/raft/config.go:578 +0x3aa
  6.824/raft.TestRejoin2B()
      /home/hzhang/work/mit-6.824/6.824/src/raft/test_test.go:496 +0x304
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1259 +0x22f
  testing.(*T).Run·dwrap·21()
      /usr/local/go/src/testing/testing.go:1306 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c0004b9f18 by goroutine 112:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:284 +0x0
  6.824/raft.(*Raft).AppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:212 +0x49c
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:626 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  6.824/labrpc.(*Service).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:496 +0x49b
  6.824/labrpc.(*Server).dispatch()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:420 +0x265
  6.824/labrpc.(*Network).processReq.func1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c0004b9f18 by goroutine 41:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1337 +0xa6
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x80
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:581 +0x168
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x39a
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:551 +0x215
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x569
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:701 +0x28d
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x72f
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0x152
  6.824/labgob.(*LabEncoder).Encode()
      /home/hzhang/work/mit-6.824/6.824/src/labgob/labgob.go:34 +0x5e
  6.824/labrpc.(*ClientEnd).Call()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:93 +0x191
  6.824/raft.(*Raft).sendAppendEntries()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:271 +0x584
  6.824/raft.(*Raft).Heartbeat·dwrap·11()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x47

Goroutine 112 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:239 +0x293
  6.824/labrpc.MakeNetwork.func1·dwrap·1()
      /home/hzhang/work/mit-6.824/6.824/src/labrpc/labrpc.go:157 +0x9c

Goroutine 41 (running) created at:
  6.824/raft.(*Raft).Heartbeat()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:341 +0x110
  6.824/raft.Make·dwrap·16()
      /home/hzhang/work/mit-6.824/6.824/src/raft/raft.go:679 +0x47
==================
--- FAIL: TestRejoin2B (6.29s)
    testing.go:1152: race detected during execution of test
Test (2B): leader backs up quickly over incorrect follower logs ...
  ... Passed --  18.1  5 2143 1795242  102
Test (2B): RPC counts aren't too high ...
  ... Passed --   2.2  3   61   20251   12
FAIL
exit status 1
FAIL	6.824/raft	37.086s
Test (2B): basic agreement ...
  ... Passed --   0.8  3   18    4658    3
Test (2B): RPC byte count ...
  ... Passed --   2.1  3   56  114948   11
Test (2B): agreement after follower reconnects ...
  ... Passed --   3.6  3   83   20676    7
Test (2B): no agreement if too many followers disconnect ...
  ... Passed --   3.7  5  210   42361    4
Test (2B): concurrent Start()s ...
  ... Passed --   0.7  3   20    5954    6
Test (2B): rejoin of partitioned leader ...
signal: interrupt
FAIL	6.824/raft	10.913s
Test (2B): basic agreement ...
signal: interrupt
FAIL	6.824/raft	0.137s
